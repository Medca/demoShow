<!doctype html>
<html>
	<head>
		<!--声明当前页面的编码集：charset=gbk,gb2312(中文编码)，utf-8国际编码-->
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<!--当前页面的三要素-->
		<title>京东楼层滑梯效果</title>
		<meta name="Keywords" content="关键词,关键词">
		<meta name="description" content="">

		<!--css,js-->
		<style type="text/css">
			*{margin:0;padding:0;}
			body{background:#fff;font-size:12px;font-family:"微软雅黑";color:#666;}
			#duke{position:fixed;left:30px;top:50%;margin-top:-150px;}
			#duke li{list-style:none;width:30px;height:30px;background:#fff;text-align:center;line-height:30px;}
			#duke li a{border-bottom:1px dotted #bbb;text-decoration:none;color:#625351;display:inline-block;width:18px;}
			#duke li:hover{background:#C00;}
			#duke li:hover a{color:#fff;width:24px;}
			#duke li:last-child a{border-bottom:none;}
			#duke li .desc{display:none;}

			#duke li.hover a.num{display:none;}
			#duke li.hover a.desc{display:inline-block;}

			#duke li.curr a.num{display:none;}
			#duke li.curr a.desc{display:inline-block;width:24px;color:#C00;}

			#container{width:1219px;margin:0 auto;}
			#container ul li{list-style:none;}

		</style>

	</head>
<body>

	<ul id="duke">
		<li>
			<a href="#" class="num">1F</a>
			<a href="#" class="desc">服饰</a>
		</li>
		<li>
			<a href="#" class="num">2F</a>
			<a href="#" class="desc">美妆</a>
		</li>
		<li>
			<a href="#" class="num">3F</a>
			<a href="#" class="desc">手机</a>
		</li>
		<li>
			<a href="#" class="num">4F</a>
			<a href="#" class="desc">家电</a>
		</li>
		<li>
			<a href="#" class="num">5F</a>
			<a href="#" class="desc">数码</a>
		</li>
		<li>
			<a href="#" class="num">6F</a>
			<a href="#" class="desc">运动</a>
		</li>
		<li>
			<a href="#" class="num">7F</a>
			<a href="#" class="desc">居家</a>
		</li>
		<li>
			<a href="#" class="num">8F</a>
			<a href="#" class="desc">母婴</a>
		</li>
		<li>
			<a href="#" class="num">9F</a>
			<a href="#" class="desc">食品</a>
		</li>
		<li>
			<a href="#" class="num">10F</a>
			<a href="#" class="desc">图书</a>
		</li>
		<li>
			<a href="#" class="num">11F</a>
			<a href="#" class="desc">服务</a>
		</li>
	</ul>


	<div id="container">
		<ul>
			<li><img src="images/head.png" alt="" width="" height=""/></li>
			<li><img src="images/f1.png" alt="" width="" height=""/></li>
			<li><img src="images/f2.png" alt="" width="" height=""/></li>
			<li><img src="images/f3.png" alt="" width="" height=""/></li>
			<li><img src="images/f4.png" alt="" width="" height=""/></li>
			<li><img src="images/f5.png" alt="" width="" height=""/></li>
			<li><img src="images/f6.png" alt="" width="" height=""/></li>
			<li><img src="images/f7.png" alt="" width="" height=""/></li>
			<li><img src="images/f8.png" alt="" width="" height=""/></li>
			<li><img src="images/f9.png" alt="" width="" height=""/></li>
			<li><img src="images/f10.png" alt="" width="" height=""/></li>
			<li><img src="images/f11.png" alt="" width="" height=""/></li>
		</ul>
	</div>


	<script type="text/javascript" src="js/jquery-1.11.1.min.js"></script>
	<script type="text/javascript">
		$(function(){
			// 找到具体楼层元素
			var lc = $("#container ul li");
			$("#duke li").hover(function(){
				$(this).addClass("hover");
			},function(){
				$(this).removeClass("hover");
			}).click(function(){
				$(this).addClass("curr").siblings().removeClass("curr");
				var _index = $(this).index() + 1;
				// 整个网页一起滑动
				$(document.body).animate({scrollTop:lc.eq(_index).offset().top},500);
			});
			
			// 滑动鼠标滚动条时
			$(window).scroll(function(){
				// 滚动条距离顶部的距离
				var wtop = $(this).scrollTop();
				lc.each(function(){
					var _this = $(this);
					//  _this.height()当前楼层的高度
					// _this.offset().top　当前楼层距离顶部的隐藏区域的高度
					if(wtop < _this.offset().top + _this.height()+200){
						console.log("wtop:"+wtop+"====="+"_this.offset().top:"+_this.offset().top+"========"+"_this.height() :"+_this.height());
						$("#duke li").eq(_this.index()).addClass("curr").siblings().removeClass("curr");
						return false;
					}
				});
			});
		});
	</script>
</body>
</html>