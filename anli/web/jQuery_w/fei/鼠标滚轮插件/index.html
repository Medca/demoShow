<!doctype html>
<html>
	 <head>
		  <!--声明当前页面的编码级：charset=gbk,gb2312(中文编码)，utf-8国际编码-->   
		  <meta http-equiv="Content-Type" content="Text/html;" charset="UTF-8">
		  <!--当前页面的三要素-->
		  <title>360安全换机</title>
		  <meta name="Keywords" content="关键词,关键词">
		  <meta name="Description" content="">
		  
		  <!--css,js-->
		  <style class="text/css">
			*{margin:0px;padding:0px;}
			img{border:0}
			a{text-decoration:none;}
			ul,li{list-style:none;}
			html,body{height:100%;}
			body{overflow:hidden;}
			#bg{width:100%;height:100%;background:#ffff99;}
			#bg div{width:100%;height:100%;background-position:center;background-attachment:fixed;}
			#header{width:100%;height:47px;position:fixed;top:25px;left:0;}
			#header .h-logo{width:226px;height:47px;margin-left:50px;float:left;}
			#header .h-logo img{display:block;}
			#header .h-nav{width:400px;height:47px;float:right;margin-right:50px;position:relative;}
			#header .h-nav ul{width:400px;height:47px;position:relative;z-index:6;}
			#header .h-nav ul li{line-height:47px;font-size:14px;float:left;margin-left:51px;}
			#header .h-nav ul li a{color:#fff;font-family:'Microsoft yahei';}
			#wrap{width:58px;height:28px;border:1px solid #fff;border-radius:15px;position:absolute;top:8px;left:35px;z-index:4;}
			#slide{width:100px;height:330px;position:fixed;top:50%;left:50px;margin-top:-150px;background:url(img/nav.png) no-repeat;padding-top:6px;}
			#slide ul li{font-size:12px;color:#fff;font-family:'Microsoft yahei';padding-left:50px;line-height:21px;margin-bottom:56px;cursor:pointer;}
			#slide ul li.on{background:url(img/nav_cho.png) no-repeat;}
		  </style>
	 </head>
 <body>
 <div id="header">
			<div class="h-logo"><img src="img/logo.png"></div>
			<div class="h-nav">
				<ul>
					<li><a href="">首页</a></li>
					<li><a href="">常见问题</a></li>
					<li><a href="">论坛</a></li>
					<li><a href="">360首页>></a></li>
				</ul>
				<div id="wrap"></div>
			</div>
		</div>

		<div id="bg">
			<div style="background-image:url(img/1.jpg);"></div>
			<div style="background-image:url(img/2.jpg);"></div>
			<div style="background-image:url(img/3.jpg);"></div>
			<div style="background-image:url(img/4.jpg);"></div>
		</div>

		<div id="slide">
			<ul>
				<li class="on">安全换机</li>
				<li>无网对传</li>
				<li>隐私粉碎</li>
				<li>一键转移</li>
			</ul>
		</div>

<script type="text/javascript" src="js/jquery-1.11.3.min.js"></script>
<script type="text/javascript" src="js/jquery.mousewheel.js"></script>
<script type="text/javascript">
	//jquery.mousewheel.js 滚轮插架
	//offset() 方法返回或设置匹配元素相对于文档的偏移（位置）
	$(function(){
		var $ul = $('#header div.h-nav ul');
		var $li = $('#header div.h-nav ul li');
		var $wrap = $('#wrap');
		var $slideLi = $('#slide ul li');
		var winH = $(window).height();
		var index = 0;

		var timer = setInterval(function(){
			$(document).scrollTop(0);
			if($(document).scrollTop()==0){
				clearInterval( timer );
			}
		},50);

		$li.mouseenter(function(){//鼠标指针进入（穿过）元素
			var Left = $(this).position().left;//返回匹配元素相对于父元素的位置（偏移）
			var Width = $(this).width();

			$wrap.stop(true).animate({//stop()停止之前所有动画,防止动作过多导致动画累计
				left : Left + 35 + 'px',
				width : Width + 30 + 'px'
			},500); 
		});

		$ul.mouseleave(function(){//鼠标指针离开元素
			$wrap.stop(true).animate({
				left : '35px',
				width : '58px'
			},500);
		});

		$(window).resize(function(){//对浏览器窗口调整大小进行计数
			winH = $(window).height();//按照比例改变图片滚动的高度
			$(document).scrollTop( index*winH );
		});

		$slideLi.click(function(){
			index = $(this).index();
			$(this).addClass('on').siblings().removeClass('on');
			$('html,body').animate({
				'scrollTop' : index*winH
			},800);
		});

		$(document).mousewheel(function(){
			var dt =  arguments[1];
			if(dt<0){
				index++;
				index%=4;
			}else{
				index--;
				if(index<0)index=3;
			}
			$slideLi.eq(index).addClass('on').siblings().removeClass('on');
			$('html,body').stop(true).animate({
				'scrollTop' : index*winH
			},800);
		});
	});
</script>

 </body>
</html>
